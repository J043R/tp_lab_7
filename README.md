# Лаба 7 — Архитектура, слои и DDD-lite

В лабораторной работе реализована система оплаты заказа с использованием слоистой архитектуры, принципа инверсии зависимостей (DIP) и подхода DDD-lite.

## Структура проекта

Проект разделён на следующие папки:

- **Domain** — доменная модель и бизнес-правила
- **Application** — use-case оплаты заказа
- **Interfaces** — интерфейсы репозитория и платёжного сервиса
- **Infrastructure** — реализации интерфейсов
- **Tests** — тесты use-case без использования базы данных

## Domain

Реализованы сущности `Order`, `OrderLine`, value object `Money` и перечисление `OrderStatus`.  
В доменной модели соблюдаются инварианты оплаты и изменения заказа.

## Application

Use-case `PayOrderUseCase` реализует сценарий оплаты заказа через абстракции репозитория и платёжного сервиса.

## Interfaces

Определены интерфейсы:
- `OrderRepository`
- `PaymentGateway`

## Infrastructure

Реализованы:
- `InMemoryOrderRepository`
- `FakePaymentGateway`

Реальная база данных не используется.

## Tests

Тесты проверяют корректность оплаты заказа и соблюдение доменных инвариантов.

## Запуск тестов

```bash
pytest
